<!-- public/navbar.html -->
<nav class="bg-blue-500 text-white p-4 flex justify-between">
    <a href="index.html" class="text-lg font-bold">üè† Boarding House</a>
    <div>
        <a href="dashboard.html" class="mx-2">Dashboard</a>
        <a href="booking.html" class="mx-2">Book a Room</a>
        <a href="billing.html" class="mx-2">Billing</a>
        <a href="profile.html" class="mx-2">Profile</a>
        <a href="admin.html" class="mx-2 hidden" id="adminLink">Admin</a>
        <button id="logoutBtn" class="bg-red-500 px-3 py-1 rounded">Logout</button>
    </div>
</nav>

<script type="module">
    // Check if user is logged in
    const user = JSON.parse(localStorage.getItem("user"));

    if (!user) {
        window.location.href = "login.html"; // Redirect to login if not logged in
    } else {
        // Show Admin link if user is an admin
        if (user.role === "admin") {
            document.getElementById("adminLink").classList.remove("hidden");
        }
    }

    // Logout Function
    document.getElementById("logoutBtn")?.addEventListener("click", () => {
        localStorage.removeItem("user"); // Clear session
        window.location.href = "login.html"; // Redirect to login
    });
</script>
